<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Nutrition Analysis</title>
  <link rel="stylesheet" href="css/analysis-style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<!-- Header w/ title + profile buttons -->
<header>
  <div class="app-name-wrapper" onclick="window.location.href='nutritionAnalysis.html'">
    <img src="assets/images/logo.png" alt="BetterBite logo" />
    <div class="app-name">BetterBite</div>
  </div>

  <div class="header-buttons" onclick="window.location.href='profile.html'">
    <!-- Profile picture and user first name -->
    <button>
      <img class="header-profile-img" src="assets/images/default-user.png" alt="Profile Icon" class="header-profile-pic" />
    </button>
    <h2 class="profile-name">Jane Doe</h2>
  </div>
</header>
    

  <!-- Main Container -->
<main>

  <!--Dropdown for days-->
  <div class="day-select">
    <label for="analysis-day-select">View Analysis For:</label>
    <select id="analysis-day-select">
      <option value="monday">Monday</option>
      <option value="tuesday">Tuesday</option>
      <option value="wednesday">Wednesday</option>
      <option value="thursday">Thursday</option>
      <option value="friday">Friday</option>
      <option value="saturday">Saturday</option>
      <option value="sunday">Sunday</option>
    </select>
  </div>

    <!-- Calories -->
    <div class="insights">
      <div class="insights-row">
        <span class="material-symbols-outlined">award_meal</span>
        <p class="section-title">Calories</p>
      </div>
      <p class="section-description">Your average daily calorie intake based on your daily tracked meals.</p>
      <div class="nutrient">
            <span class="label red">Calories</span>
            <div class="hover-button">
              <span class="material-symbols-outlined info-button">info</span>
              <div class="popup-text">
                Calories are a unit of energy needed for the body to function. Too little calories lead to weight loss and nutrient deficiencies, whereas too many calories result in weight gain.
              </div>
            </div>
            <span class="value">--%</span>
            <div class="bar-container"><div class="bar red" style="width: 0%;"></div></div>
          </div>
    </div>

    <hr class="divider">


    <!-- Nutrient Overview -->
    <div class="insights">
     <div class="insights-row">
                    <span class="material-symbols-outlined">assignment</span>
                    <p class="section-title">Nutrients</p>
                </div>
                <p class="section-description">Overview of your nutrient intake based on your daily tracked meals.</p>
      
      <div class="nutrient-columns">
        <!-- Left column -->
        <div class="nutrient-column">
          <div class="nutrient">
            <span class="label red">Carbs</span>
              <div class="hover-button">
                <span class="material-symbols-outlined info-button">info</span>
                <div class="popup-text">
                  Maintaining a healthy amount of carbohydrates is necessary for the body to store energy and retain brain functions. 
                  However, a lack of carbohydrates results in fatigue and poor concentration, while too many can cause weight gain or high blood sugar.
                </div>
              </div>
            <span class="value">--%</span>
            <div class="bar-container"><div class="bar red" style="width: 0%;"></div></div>
          </div>

          <div class="nutrient">
            <span class="label red">Fiber</span>
              <div class="hover-button">
                <span class="material-symbols-outlined info-button">info</span>
                <div class="popup-text">
                  Fiber helps aid digestion and prevents constipation. However, having too much fiber results in bloating and diarrhea, wheras too little fiber can result in hemorrhoids and even type 2 diabetes.
                </div>
              </div>
            <span class="value">--%</span>
            <div class="bar-container"><div class="bar red" style="width: 0%;"></div>
          </div>
          </div>

          <div class="nutrient">
            <span class="label red">Protein</span>
              <div class="hover-button">
                <span class="material-symbols-outlined info-button">info</span>
                <div class="popup-text">
                  Protein is the building block for cells in the body and is essential for repairing tissues and making hormones. Too little protein leads to hair loss and fatigue, whereas too much protein can cause heart disease or digestive issues.
                </div>
              </div>
            <span class="value">--%</span>
            <div class="bar-container"><div class="bar red" style="width: 0%;"></div>
          </div>
          </div>
        </div>

        <!-- Right column -->
        <div class="nutrient-column">
          <div class="nutrient">
            <span class="label green">Vitamin C</span>
              <div class="hover-button">
                <span class="material-symbols-outlined info-button">info</span>
                <div class="popup-text">
                  Vitamin C is vital for the growth/repair of tissues and helps form collagen for skin. Too much Vitamin C results in cramps and nausea, whereas too little Vitamin C results in fatigue and joint pain.
                </div>
              </div>
            <span class="value">--%</span>
            <div class="bar-container"><div class="bar green" style="width: 0%;"></div></div>
          </div>

          <div class="nutrient">
            <span class="label green">Vitamin D</span>
              <div class="hover-button">
                <span class="material-symbols-outlined info-button">info</span>
                <div class="popup-text">
                  Vitamin D is essential to build bones and help the body absorb calcium. Vitamin D deficiency can cause bone pain and bone deformities.
                </div>
              </div>
            <span class="value">--%</span>
            <div class="bar-container"><div class="bar green" style="width: 0%;"></div></div>
          </div>

          <div class="nutrient">
            <span class="label green">Iron</span>
              <div class="hover-button">
                <span class="material-symbols-outlined info-button">info</span>
                <div class="popup-text">
                  Iron is necessary for producing hemoglobin. Consuming too much iron causes stomach problems and organ damage, and too little iron results in weakness and pale skin.
                </div>
              </div>

            <span class="value">--%</span>
            <div class="bar-container"><div class="bar green" style="width: 0%;"></div></div>
          </div>
        </div>
      </div>
    </div>
    <hr class="divider">

    <!-- Nutrition Insights -->
    <div class="insights">
      <div class="insights-row">
        <span class="material-symbols-outlined">search_insights</span>
        <h3>Nutrition Insights</h3>
      </div>
      <p class="section-description">These are the main takeaways from your nutrition report.</p>
      <p class="subtitle">Areas for Improvement</p>
      <div class="improvements" id="improvement-list">
        <span>Loading...</span>
      </div>
    </div>
  </div>
  <!-- Weekly Nutrient Timeline -->
  <section class="weekly-graph-section">
    <div class="insights weekly-graph-card">
      <div class="insights-row">
        <span class="material-symbols-outlined">timeline</span>
        <h3>Weekly Nutrient Timeline</h3>
      </div>
      <p class="section-description">
        See how your intake changes across the week. Each point shows one day, Monday through Sunday.
      </p>

      <div class="weekly-graph-controls">
        <label for="weekly-metric-select">View weekly timeline for:</label>
        <select id="weekly-metric-select">
          <option value="calories">Calories</option>
          <option value="carbs">Carbs</option>
          <option value="fiber">Fiber</option>
          <option value="protein">Protein</option>
          <option value="vitaminC">Vitamin C</option>
          <option value="vitaminD">Vitamin D</option>
          <option value="iron">Iron</option>
        </select>
      </div>

      <div class="weekly-graph-canvas-wrapper">
        <canvas id="weekly-nutrient-chart"></canvas>
      </div>
    </div>
  </section>
  <!-- Buttons -->
  <div class="nav-buttons">
    <button class="back" onclick="window.location.href='foodtracker.html'">Back</button>
    <button class="next" onclick="window.location.href='personalised-reccommendation.html'">Next</button>
  </div>
</main>
<!-- Load JS -->
<script src="js/analysis.js"></script>
<script src="js/personalised-reccommendation.js"></script>
<script src="js/profile.js"></script>
</body>
</html>